<script setup lang="ts">
import type { BuildingDormitory } from '~/types'
import Base from './Base.vue'
import ResidentCharacter from './ResidentCharacter.vue'

defineProps<{ data: BuildingDormitory }>()
</script>

<template>
  <Base title="宿舍" :level="data.level" color="white">
    <template #icon>
      <svg width="60" height="60" viewBox="0 0 60 60" fill="none" xmlns="http://www.w3.org/2000/svg">
        <g clip-path="url(#clip0_502_976)">
          <path fill-rule="evenodd" clip-rule="evenodd" d="M29.6943 -2.28332C28.0271 -3.23889 25.9729 -3.23889 24.3057 -2.28332L-3.3057 13.542C-4.97294 14.4976 -6 16.2635 -6 18.1747V49.8253C-6 51.7365 -4.97294 53.5024 -3.3057 54.458L24.3057 70.2833C25.9729 71.2389 28.0271 71.2389 29.6943 70.2833L57.3057 54.458C58.9729 53.5024 60 51.7365 60 49.8253V18.1747C60 16.2635 58.9729 14.4976 57.3057 13.542L29.6943 -2.28332ZM55.0378 16.4452L27.9622 0.927022C27.3668 0.585747 26.6332 0.585746 26.0378 0.927021L-1.03775 16.4452C-1.63319 16.7865 -2 17.4172 -2 18.0997V49.1361C-2 49.8186 -1.63319 50.4493 -1.03775 50.7906L26.0378 66.3088C26.6332 66.6501 27.3668 66.6501 27.9622 66.3088L55.0378 50.7906C55.6332 50.4493 56 49.8186 56 49.1361V18.0997C56 17.4172 55.6332 16.7865 55.0378 16.4452Z" fill="#44464B" />
          <path d="M30.0345 53.835H24.3448C23.8391 53.7715 22.8276 53.4536 22.8276 52.6907V40.1031C21.9425 39.7216 20.1724 38.5773 20.1724 37.0515V27.134C20.2356 26.244 21.0828 24.4639 23.9655 24.4639H30.4138C33.2966 24.4639 34.1437 26.244 34.2069 27.134V37.0515C34.2069 38.5773 32.4368 39.7216 31.5517 40.1031V52.6907C31.5517 53.4536 30.5402 53.7715 30.0345 53.835Z" fill="#44464B" />
          <path d="M31.931 17.9794C31.931 20.718 29.7233 22.9381 27 22.9381C24.2767 22.9381 22.069 20.718 22.069 17.9794C22.069 15.2407 24.2767 13.0206 27 13.0206C29.7233 13.0206 31.931 15.2407 31.931 17.9794Z" fill="#44464B" />
          <path d="M41.7931 53.835H36.1034C35.5977 53.7715 34.5862 53.4536 34.5862 52.6907V40.1031C34.5862 40.1031 35.7241 39.3402 35.7241 37.8144V27.3247C35.7241 25.9897 35.7241 25.2268 34.7759 24.4639H42.1724C45.0552 24.4639 45.9023 26.244 45.9655 27.134V37.0515C45.9655 38.5773 44.1954 39.7216 43.3103 40.1031V52.6907C43.3103 53.4536 42.2989 53.7715 41.7931 53.835Z" fill="#44464B" />
          <path d="M43.6897 17.9794C43.6897 20.718 41.482 22.9381 38.7586 22.9381C36.0353 22.9381 33.8276 20.718 33.8276 17.9794C33.8276 15.2407 36.0353 13.0206 38.7586 13.0206C41.482 13.0206 43.6897 15.2407 43.6897 17.9794Z" fill="#44464B" />
          <path d="M12.5862 53.835H18.2759C18.7816 53.7715 19.7931 53.4536 19.7931 52.6907V40.1031C19.7931 40.1031 18.6552 39.3402 18.6552 37.8144V27.3247C18.6552 25.9897 18.6552 25.2268 19.6034 24.4639H12.2069C9.32414 24.4639 8.47701 26.244 8.41379 27.134V37.0515C8.41379 38.5773 10.1839 39.7216 11.069 40.1031V52.6907C11.069 53.4536 12.0805 53.7715 12.5862 53.835Z" fill="#44464B" />
          <path d="M10.6897 17.9794C10.6897 20.718 12.8974 22.9381 15.6207 22.9381C18.344 22.9381 20.5517 20.718 20.5517 17.9794C20.5517 15.2407 18.344 13.0206 15.6207 13.0206C12.8974 13.0206 10.6897 15.2407 10.6897 17.9794Z" fill="#44464B" />
        </g>
        <defs>
          <clipPath id="clip0_502_976">
            <rect width="60" height="60" fill="white" />
          </clipPath>
        </defs>
      </svg>
    </template>
    <template #info>
      <div w-full flex="~ items-center justify-between">
        <svg width="16" height="15" viewBox="0 0 16 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M0 10.7342C1.43673 10.2922 5.09388 10.5208 8.22857 14.9711C5.76871 14.9064 0.679184 13.9685 0 10.7342Z" fill="#90C21C" />
          <path d="M8.22857 11.09C5.87755 10.9822 0.940408 9.97743 0 6.82082C1.79592 6.36802 5.95592 6.58795 8.22857 11.09Z" fill="#90C21C" />
          <path d="M7.83674 8.5673C7.83674 7.27361 9.22775 4.6086 14.7918 4.29812C14.5633 5.72118 12.8522 8.5673 7.83674 8.5673Z" fill="#90C21C" />
          <path d="M16 8.5673C13.9646 8.53496 9.56082 9.34352 8.22857 12.8365C10.1007 13.1815 14.2759 12.8106 16 8.5673Z" fill="#90C21C" />
          <path d="M7.24898 6.56208C8.22857 5.12824 9.6 1.81423 7.24898 0.0289307C6.30204 0.815927 4.97633 3.22435 7.24898 6.56208Z" fill="#90C21C" />
        </svg>
        <span class="text-#9bc142">
          {{ data.comfort }}
        </span>
      </div>
    </template>
    <ResidentCharacter
      v-for="i in data.chars"
      :key="i.charId"
      :resident="i"
    />
  </Base>
</template>
